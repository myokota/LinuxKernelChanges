
# Linux kernel v3.5 Changes

ソース: http://kernelnewbies.org/Linux_3.5

## Prominent features

##### ext4 metadata checksums
* ZFS/Btrfs 等モダンなファイルシステムの機能の一つとして、チェックサムによるデータの保障がある。
* ext4 においても、メタデータのチェックサムを格納する機能が追加された。
* メタデータが読みだされる度に、算出したチェックサムと、格納済みのチェックサムが比較される。
* もし比較結果が異なれば、メタデータが不正と判断される。(データ内容の整合性はチェックされない)
* チェックサム機能を有効にするには、以下の何れか。
  * ```tune2fs -O metadata_csum```
  * (作成時に) ```mkfs -O metadata_csum```
* ファイル作成と削除のみを繰り返し、エクステントツリーを更新するテストでは、性能が20%低下したが、実際の運用シーンにおいて、トータルのI/Oに対するメタデータはごく少量なので、チェックサムのオーバヘッドと考えれば、無視できる程度といえる。

##### Uprobes: userspace probes
* ユーザ空間版 kprobes。
* ユーザ空間においてパフォーマンス測定用のプローブがメモリ上に設定可能。
* バイナリを変更することなく、また、再起動することなく動的にプローブを設定可能。
* プローブは perf/systemtap/LLTng など既存ツールによって設定。

